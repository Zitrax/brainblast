<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Kyra: Main Page</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>Kyra Documentation</h1>
<p>
<h3 align="center">2.1.3 </h3>A Sprite Engine...from a Slightly Different Point of View<p>
Kyra is a simple, fully featured, industrial strength Sprite engine written in C++. It is built on top of SDL for cross platform compatibility. It is Open Source and provided under the GPL.<p>
The API that is documented here is intended to be accessible and easy to use. It is created with you the user in mind.<p>
Note, however, that the API documented here is the details of how the engine works. For the big picture, you should start with the HTML documentation, available online at:<p>
<a href="http://www.grinninglizard.com/kyra">www.grinninglizard.com/kyra</a><p>
<b>Brief API overview:</b><p>
The <a class="el" href="classKrEngine.html">KrEngine</a> is a class that aggregates important components as well as providing some API calls as well. Kyra applications begin by creating a engine. The <a class="el" href="classKrEngine.html#6c52577c674c6b52e177445c8286a9b5">KrEngine::Draw</a> methods renders the current sprites to the screen and updates the screen. The Tree method returns a pointer to the KrTree, a data structure where all the objects (drawable and otherwise) are stored. The Vault method returns a pointer to the engine's dictionary, where resources live.<p>
The tutorial and tests files give an overview as to how these peices fit together.<p>
<b>Memory Management</b><p>
Generally speaking, objects are handed over to kyra components by ownership: that is, the client program 'new's an object, and then it is handed to the kyra object which will later delete it at the appropriate time. (An obvious exception is the engine itself, which you must create and destroy.)<p>
For example, you would create a canvas resource by calling 'new KrCanvasResource' with the appropriate parameters. Rather than memory manage this yourself, you should add it to the Vault, which can be retrieved via the <a class="el" href="classKrEngine.html#dc3df25f4dc039a7a7ce94714e5b3cc7">KrEngine::Vault()</a> method. You should not, in the future, delete the canvas resource since it is now owned by the vault. Likewise, when you create canvases by calling 'new KrCanvas', these will be added to the Tree (accessed via <a class="el" href="classKrEngine.html#6ef5ae52d02849d3e6da6a1bdf0ad0f7">KrEngine::Tree()</a> ) and will be deleted by the tree when appopriate.<p>
<b>Names and Namespaces</b><p>
Method and parameter are not fully standardized and have errors. (Regrettably.) The desired convention is as follows:<p>
For methods that return pointers:<p>
<ul>
<li>Create Allocates memory. Returns something to you that you should delete or delete [].</li><li>Get Returns something that is owned by the object. Do not delete.</li><li>To A conversion method. Will return an address if the object can be downcast to "ToThing", null if not. This is a cast, so nothing is created by calling this method.</li></ul>
<p>
Other methods:<p>
Generally no prefix is used for queries that return a simple value.<p>
<ul>
<li>Calc Implies more work is involved. A slower operation that a typical accessor, and should be used accordingly.</li><li>Query Used when memory is passed in and it is written to. No memory is new'd or deleted by the callee.</li></ul>
<p>
<b>Organization</b><p>
Kyra uses the following directories:<p>
<ul>
<li>spriteed Sprite Editor files.</li><li>encoder Encoder files.</li><li>tests Test and demo files.</li><li>engine The files for the main engine and library.</li><li>util Utility and container classes.</li><li>gui User interface widgets.</li><li>guiExtended User interface widgets by external authors.</li></ul>
<p>
The following class prefixes:<p>
<ul>
<li>Kr Kyra classes.</li></ul>
<p>
Nampspaces:<p>
<ul>
<li>Kyra itself doesn't use a namespace. (It is old code.) All Kyra classes start with Kr.</li><li>grinliz namespace contains the grinning lizard utilities. General programming utilities and math classes (both 3D and 2D).</li><li>TinyXml also doesn't use a namespace. TinyXml class start with TiXml. </li></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jul 20 20:45:31 2006 for Kyra by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
