<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Kyra: KrWidget Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>KrWidget Class Reference</h1><!-- doxytag: class="KrWidget" --><!-- doxytag: inherits="KrImNode,IKrWidgetListener" -->This is the base of any Kyra widget.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="widget_8h-source.html">widget.h</a>&gt;</code>
<p>
<p>Inheritance diagram for KrWidget:
<p><center><img src="classKrWidget.png" usemap="#KrWidget_map" border="0" alt=""></center>
<map name="KrWidget_map">
<area href="classKrImNode.html" alt="KrImNode" shape="rect" coords="575,56,795,80">
<area href="classIKrWidgetListener.html" alt="IKrWidgetListener" shape="rect" coords="805,56,1025,80">
<area href="classgrinliz_1_1Listener.html" alt="grinliz::Listener< IKrWidgetListener >" shape="rect" coords="805,0,1025,24">
<area href="classKrButton.html" alt="KrButton" shape="rect" coords="115,168,335,192">
<area href="classKrConsole.html" alt="KrConsole" shape="rect" coords="345,168,565,192">
<area href="classKrImageListBox.html" alt="KrImageListBox" shape="rect" coords="575,168,795,192">
<area href="classKrListBox.html" alt="KrListBox" shape="rect" coords="805,168,1025,192">
<area href="classKrProgress.html" alt="KrProgress" shape="rect" coords="1035,168,1255,192">
<area href="classKrTextWidget.html" alt="KrTextWidget" shape="rect" coords="1265,168,1485,192">
<area href="classKrPushButton.html" alt="KrPushButton" shape="rect" coords="0,224,220,248">
<area href="classKrToggleButton.html" alt="KrToggleButton" shape="rect" coords="230,224,450,248">
</map>
<a href="classKrWidget-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fc032f51a36ec5eef3714daa2451bd80"></a><!-- doxytag: member="KrWidget::ToWidget" ref="fc032f51a36ec5eef3714daa2451bd80" args="()" -->
virtual <a class="el" href="classKrWidget.html">KrWidget</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKrWidget.html#fc032f51a36ec5eef3714daa2451bd80">ToWidget</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer if this is a widget. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKrWidget.html#ad5918d2430ba9fdee56acec5f4b2d4e">IsMouseListener</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">IsMouseListener returns whether this is a mouse listener or not, and which buttons are listened to.  <a href="#ad5918d2430ba9fdee56acec5f4b2d4e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKrWidget.html#86376d86ed8fa26b88d709cd6d874140">MouseIn</a> (bool down, bool in)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKrWidget.html#520c7e45bc81ca0d2dfab8686f2731f8">MouseMove</a> (bool down, int x, int y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKrWidget.html#fc913be7b8002cb9e50c4eee61f7e594">MouseClick</a> (int click, int x, int y)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e006683ee7f3f6ff56302998b91d7e5f"></a><!-- doxytag: member="KrWidget::HandleWidgetEvent" ref="e006683ee7f3f6ff56302998b91d7e5f" args="(KrWidget *source, const KrWidgetEvent &amp;event)" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKrWidget.html#e006683ee7f3f6ff56302998b91d7e5f">HandleWidgetEvent</a> (<a class="el" href="classKrWidget.html">KrWidget</a> *source, const KrWidgetEvent &amp;event)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle widget events, return true if handled, false if not ours. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e5d155af1d1a647031f38eb1bbe7ab85"></a><!-- doxytag: member="KrWidget::ParentWidget" ref="e5d155af1d1a647031f38eb1bbe7ab85" args="()" -->
<a class="el" href="classKrWidget.html">KrWidget</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKrWidget.html#e5d155af1d1a647031f38eb1bbe7ab85">ParentWidget</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the parent of the widget that is also a widget. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4ce0d9ae987f81e7ffa6211c9f6e6e96"></a><!-- doxytag: member="KrWidget::widgetPublish" ref="4ce0d9ae987f81e7ffa6211c9f6e6e96" args="" -->
<a class="el" href="classgrinliz_1_1Publisher.html">grinliz::Publisher</a>&lt; <a class="el" href="classIKrWidgetListener.html">IKrWidgetListener</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKrWidget.html#4ce0d9ae987f81e7ffa6211c9f6e6e96">widgetPublish</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">All widgets publish events through this member. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This is the base of any Kyra widget. 
<p>
A widget is much like any other Kyra image object. You new it, add it to the <a class="el" href="classKrImageTree.html">KrImageTree</a>, and it is drawn as part of the Draw() pass.<p>
Widgets don't have resources, but do use schemes which are similar.<p>
Widgets get their events from an event manager. If you use widgets, you must therefore send events to the <a class="el" href="classKrEventManager.html">KrEventManager</a> class. Widgets generally need SDL_EnableUNICODE( true ) to function correctly.<p>
Widgets broadcast their events to "listeners." To register a class as a listener, call AddListener(). The class will then receive notification of events. The event each widget broadcast is documented on a per-widget basis.<p>
A widget subclass can implement any of the following properties:<p>
<ul>
<li>MouseListeners receieve and can respond to mouse events.</li><li>KeyListeners get keyboard focus and key messages. They grab key focus with the "tab" key or if clicked on.</li><li>Selectable widgets have state. They can be on/off, up/down, or whatever. A <a class="el" href="classKrToggleButton.html">KrToggleButton</a> is a selectable widget.</li><li>Groupable widgets are in a group, and are aware of other widgets in that group. Radio Buttons are groupable.</li><li>Some widgets can respond to accelerator keys. Use SetAccelerator to specify a hotkey to pass to the widget.</li></ul>
<p>
Widgets can be nested and you can query for parents. However, Kyra regards the widget model as flat and doesn't pay attention to the nesting, with one important exception: a key event that isn't handled by a widget will be passed through its parent chain. For example, a <a class="el" href="classKrConsole.html">KrConsole</a> uses a <a class="el" href="classKrTextWidget.html">KrTextWidget</a>. If the <a class="el" href="classKrTextWidget.html">KrTextWidget</a> doesn't handle a particular key, it will get passed up to the <a class="el" href="classKrConsole.html">KrConsole</a>.<p>
WARNING: You may want to use Widgets in window 0, if you are using multiple Kyra windows. They are not fully tested in higher window numbers. You may see placement or bounding errors in higher window numbers.<p>
Notes for implementing your own widgets:<p>
<ul>
<li>All Widgets are of the type <a class="el" href="classKrWidget.html#fc032f51a36ec5eef3714daa2451bd80">ToWidget()</a>. To get a particular flavor, the <a class="el" href="classKrImNode.html#9f80c24d6b6d32dbf642d918df5b43dd">ToExtended()</a> method can be used.</li><li>Widgets should initialize themselves in the AddedtoTree() method. When the engine calls your AddedtoTree() method, you can add children because you are already in the Tree(). Be sure to call the parent KrWidget::AddedtoTree() as well!</li><li>If you have been added to the Tree(), your <a class="el" href="classKrImNode.html#e3d711d058ec189ce24609cb97fbf419">Engine()</a> pointer will be non-null. </li></ul>

<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ad5918d2430ba9fdee56acec5f4b2d4e"></a><!-- doxytag: member="KrWidget::IsMouseListener" ref="ad5918d2430ba9fdee56acec5f4b2d4e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int KrWidget::IsMouseListener           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
IsMouseListener returns whether this is a mouse listener or not, and which buttons are listened to. 
<p>
A return value of 0 is no listening. Else it can return an OR mask of the buttons ( LEFT_MOUSE, RIGHT_MOUSE, MIDDLE_MOUSE ) it wants to listen for mouse clicks.<p>
The simple case is to only listen to the left mouse, in which case return LEFT_MOUSE (1). The click messages can then be treated like a boolean for the left mouse (1 is down, 0 is up.)<p>
Currently, with version 2.0, only the LEFT_MOUSE is supported.<p>
MouseIn is called when a mouse moves in to the widget. The 'down' parameter reflects the state of the left mouse button. The 'in' reflects whether it is moving to the widget (true) or away from the widget (false).<p>
MouseMove reports when the mouse moves over this widget.<p>
MouseClick is called when the mouse is clicked on this widget. The 'click' param will have a single value (not OR mask) of LEFT_UP, LEFT_DOWN, RIGHT_UP, etc. with x and y coordinates of the action.<p>
In the simple case that you are only listening to the left mouse, the parameter will be essentially a boolean: 1 for the left mouse down, 0 for the left mouse up. 
<p>
Reimplemented in <a class="el" href="classKrPushButton.html#ee5a1fc0e0b16edd680adf9e927a15c4">KrPushButton</a>, <a class="el" href="classKrToggleButton.html#0b0d82048a6abb3bdf002511678dfdc9">KrToggleButton</a>, <a class="el" href="classKrTextWidget.html#7970c67276bfd6422008e2165ae1831a">KrTextWidget</a>, and <a class="el" href="classKrImageListBox.html#20e9dd47981167ef6437b51290182bb3">KrImageListBox</a>.
</div>
</div><p>
<a class="anchor" name="fc913be7b8002cb9e50c4eee61f7e594"></a><!-- doxytag: member="KrWidget::MouseClick" ref="fc913be7b8002cb9e50c4eee61f7e594" args="(int click, int x, int y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool KrWidget::MouseClick           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>click</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classKrWidget.html#ad5918d2430ba9fdee56acec5f4b2d4e">IsMouseListener</a> </dd></dl>

<p>
Reimplemented in <a class="el" href="classKrPushButton.html#6b7499130e9df166e59ec65752c04fe9">KrPushButton</a>, <a class="el" href="classKrToggleButton.html#420c053ef67e31fc6ab9be75abaa9241">KrToggleButton</a>, <a class="el" href="classKrTextWidget.html#13859902b705d82c0409bbbac5fee9ab">KrTextWidget</a>, and <a class="el" href="classKrImageListBox.html#c688de5b97abd1456032623cd9a41797">KrImageListBox</a>.
</div>
</div><p>
<a class="anchor" name="86376d86ed8fa26b88d709cd6d874140"></a><!-- doxytag: member="KrWidget::MouseIn" ref="86376d86ed8fa26b88d709cd6d874140" args="(bool down, bool in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void KrWidget::MouseIn           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>down</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>in</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classKrWidget.html#ad5918d2430ba9fdee56acec5f4b2d4e">IsMouseListener</a> </dd></dl>

<p>
Reimplemented in <a class="el" href="classKrPushButton.html#cf8f3d8d52d61cbbca78d54bbe848669">KrPushButton</a>, <a class="el" href="classKrToggleButton.html#61dc57f39bcf1430b6b689a3ec703457">KrToggleButton</a>, <a class="el" href="classKrTextWidget.html#a947fc80c5bf69938ee67eaa24c1bb12">KrTextWidget</a>, and <a class="el" href="classKrImageListBox.html#cc0528c5938faed4404f06ee2af8bedf">KrImageListBox</a>.
</div>
</div><p>
<a class="anchor" name="520c7e45bc81ca0d2dfab8686f2731f8"></a><!-- doxytag: member="KrWidget::MouseMove" ref="520c7e45bc81ca0d2dfab8686f2731f8" args="(bool down, int x, int y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void KrWidget::MouseMove           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>down</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classKrWidget.html#ad5918d2430ba9fdee56acec5f4b2d4e">IsMouseListener</a> </dd></dl>

<p>
Reimplemented in <a class="el" href="classKrPushButton.html#07207873aae6455c366e243cf83c7385">KrPushButton</a>, <a class="el" href="classKrToggleButton.html#ae54b46b52b711e3b961b1517916741c">KrToggleButton</a>, <a class="el" href="classKrTextWidget.html#b8466c2bcd5f490a0f46b37e3fc500c4">KrTextWidget</a>, and <a class="el" href="classKrImageListBox.html#fdd5b74e2cc7740ef6e965355d925e1c">KrImageListBox</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="widget_8h-source.html">widget.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jul 20 20:45:33 2006 for Kyra by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
